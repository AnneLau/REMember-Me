<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        a:hover{
            color:red
        }
        a:focus{
            color: yellow;
        }
        a:active{
            background: #00b3ee;
        }
        a:visited{
            color: pink;
        }
        div{
            width: 100px;
            height: 100px;
            background: red;
            color: white;
            resize:both;
            overflow: hidden;
        }
    </style>
</head>
<body>
<div onresize="alert('You have changed the size of the window')">

</div>
</body>
<script>
    document.querySelector('div').onresize=function () {
        console.log(3)
    }
    document.body.onresize=function () {
        console.log(2)
    }
    function debounce(func, wait, immediate) {
        var timeout;
        return function() {
            var context = this, args = arguments;
            var later = function() {
                timeout = null;
                if (!immediate) func.apply(context, args);
            };
            var callNow = immediate && !timeout;
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
            if (callNow) func.apply(context, args);
        };
    }
    // 添加resize的回调函数，但是只允许它每300毫秒执行一次
    window.addEventListener('resize', debounce(function(e) {

        console.log(1)
        // 这里写resize过程

    }, 1000));
    var str=''
    var arr=[]
    var begin=new Date()

    for(var i=0;i<1000000;i++){
        //str+=i
        arr.push(i)
    }
    str=arr.join('')
    console.log(new Date()-begin)
</script>
</html>